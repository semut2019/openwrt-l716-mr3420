# OpenWrt TL-MR3420 v5 + Fibocom L716 Advanced .config
# Target: ramips/mt76x8
# Profile: tplink_tl-mr3420-v5

CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt76x8=y
CONFIG_TARGET_ramips_mt76x8_DEVICE_tplink_tl-mr3420-v5=y

# Basic system
CONFIG_BUSYBOX_CUSTOM=y
CONFIG_DEVEL=y
CONFIG_AUTOREBUILD=y
CONFIG_BUILD_LOG=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-serial=y
CONFIG_PACKAGE_kmod-usb-serial-option=y
CONFIG_PACKAGE_kmod-usb-serial-wwan=y

# QMI Modem Support (Fibocom L716)
CONFIG_PACKAGE_kmod-usb-net=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ether=y
CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=y
CONFIG_PACKAGE_kmod-usb-serial-qualcomm=y
CONFIG_PACKAGE_uqmi=y
CONFIG_PACKAGE_qmi-utils=y

# Optional MBIM & proto support
CONFIG_PACKAGE_kmod-usb-net-cdc-mbim=y
CONFIG_PACKAGE_luci-proto-qmi=y
CONFIG_PACKAGE_luci-proto-ppp=y

# USB modem mode switch (jaga-jaga)
CONFIG_PACKAGE_usb-modeswitch=y
CONFIG_PACKAGE_usb-modeswitch-data=y

# Network management
CONFIG_PACKAGE_chat=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_kmod-mii=y
CONFIG_PACKAGE_kmod-pppoe=y
CONFIG_PACKAGE_kmod-pppox=y
CONFIG_PACKAGE_kmod-nf-ipt6=y

# LuCI interface + modem utilities
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-ssl=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y
CONFIG_PACKAGE_luci-app-modeminfo=y
CONFIG_PACKAGE_luci-app-watchcat=y
CONFIG_PACKAGE_watchcat=y

# Useful CLI tools
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_screen=y
CONFIG_PACKAGE_nano=y

# USB storage and extroot support
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-storage-uas=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-fs-exfat=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_blockd=y
CONFIG_PACKAGE_mount-utils=y

# Monitoring and statistics
CONFIG_PACKAGE_luci-app-nlbwmon=y
CONFIG_PACKAGE_luci-app-statistics=y
CONFIG_PACKAGE_luci-app-commands=y
CONFIG_PACKAGE_luci-app-netspeedtest=y
CONFIG_PACKAGE_luci-app-advanced-reboot=y

# Web server
CONFIG_PACKAGE_luci-app-uhttpd=y

# Final touches
CONFIG_PACKAGE_ca-certificates=y
CONFIG_PACKAGE_dnsmasq-full=y

# Firmware branding
CONFIG_VERSIONOPT=y
CONFIG_VERSION_REPO="https://github.com/semut2019/openwrt-l716-mr3420"
CONFIG_VERSION_DIST="OpenWrt-L716"
CONFIG_VERSION_NUMBER="MR3420-L716"

# Disable IPv6 if desired
# CONFIG_IPV6=n

